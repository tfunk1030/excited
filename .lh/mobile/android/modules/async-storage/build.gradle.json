{
    "sourceFile": "mobile/android/modules/async-storage/build.gradle",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 25,
            "patches": [
                {
                    "date": 1736666203198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736666399065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,15 +52,12 @@\n }\n \n configurations.all {\n     resolutionStrategy {\n-        force 'com.facebook.react:react-native:0.72.7'\n-        force 'com.facebook.react:react-android:0.72.7'\n-        force 'com.facebook.react:hermes-android:0.72.7'\n-        force \"org.jetbrains.kotlin:kotlin-stdlib:1.7.22\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.22\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.22\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.7.22\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n     }\n }\n \n android {\n"
                },
                {
                    "date": 1736666410381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,6 +132,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    implementation 'com.facebook.react:react-native:0.72.7'\n+    implementation 'com.facebook.react:react-native:+'  // From node_modules\n }\n"
                },
                {
                    "date": 1736666538721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,6 +132,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    implementation 'com.facebook.react:react-native:+'  // From node_modules\n+    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"  // From node_modules\n }\n"
                },
                {
                    "date": 1736666552782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,10 +60,9 @@\n     }\n }\n \n android {\n-    def agpVersion = com.android.Version.ANDROID_GRADLE_PLUGIN_VERSION\n-    if (agpVersion.tokenize('.')[0].toInteger() >= 7) {\n+    if (rootProject.ext.has('androidLibraryVersion') && rootProject.ext.androidLibraryVersion.startsWith('8.')) {\n         namespace \"com.reactnativecommunity.asyncstorage\"\n         buildFeatures {\n             buildConfig true\n         }\n"
                },
                {
                    "date": 1736666698328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,8 +46,12 @@\n         // Android JSC is installed from npm\n         url \"$rootDir/../../node_modules/jsc-android/dist\"\n     }\n     maven {\n+        // Local Maven repo containing AAR files\n+        url \"$rootDir/../../node_modules/react-native/android/maven\"\n+    }\n+    maven {\n         url 'https://www.jitpack.io'\n     }\n }\n \n"
                },
                {
                    "date": 1736666714942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,11 @@\n }\n \n configurations.all {\n     resolutionStrategy {\n+        force \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:react-android:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:hermes-android:${rootProject.ext.reactNativeVersion}\"\n         force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n         force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n         force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n         force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n"
                },
                {
                    "date": 1736666753537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-configurations {\n+ruconfigurations {\n     compileClasspath\n }\n \n buildscript {\n@@ -138,6 +138,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"  // From node_modules\n+    implementation project(':app')  // Use app project's dependencies\n }\n"
                },
                {
                    "date": 1736666768109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-ruconfigurations {\n+configurations {\n     compileClasspath\n }\n \n buildscript {\n"
                },
                {
                    "date": 1736666781719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,6 +138,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    implementation project(':app')  // Use app project's dependencies\n+    api fileTree(dir: \"$rootDir/../../node_modules/react-native/android\", include: [\"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}.aar\"])\n }\n"
                },
                {
                    "date": 1736666795015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -138,6 +138,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    api fileTree(dir: \"$rootDir/../../node_modules/react-native/android\", include: [\"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}.aar\"])\n+    compileOnly \"com.facebook.react:react-native:+\"\n }\n"
                },
                {
                    "date": 1736666833053,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,17 +39,17 @@\n     mavenCentral()\n     google()\n     maven {\n         // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n-        url \"$rootDir/../../node_modules/react-native/android\"\n+        url \"$rootDir/../node_modules/react-native/android\"\n     }\n     maven {\n         // Android JSC is installed from npm\n-        url \"$rootDir/../../node_modules/jsc-android/dist\"\n+        url \"$rootDir/../node_modules/jsc-android/dist\"\n     }\n     maven {\n         // Local Maven repo containing AAR files\n-        url \"$rootDir/../../node_modules/react-native/android/maven\"\n+        url \"$rootDir/../node_modules/react-native/android/maven\"\n     }\n     maven {\n         url 'https://www.jitpack.io'\n     }\n"
                },
                {
                    "date": 1736667300102,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,143 @@\n+configurations {\n+    compileClasspath\n+}\n+\n+buildscript {\n+    apply from: \"config.gradle\"\n+    def kotlinVersion = ext.AsyncStorageConfig.kotlinVersion\n+    def kspVersion = ext.AsyncStorageConfig.kspVersion\n+\n+    repositories {\n+        mavenCentral()\n+        google()\n+    }\n+    dependencies {\n+        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n+        classpath \"com.google.devtools.ksp:symbol-processing-gradle-plugin:$kspVersion\"\n+    }\n+}\n+\n+apply plugin: 'com.android.library'\n+apply from: 'config.gradle'\n+\n+boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n+boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n+\n+logger.info(\"[AsyncStorage] Config used: {}\", ext.AsyncStorageConfig)\n+\n+if (useNextStorage) {\n+    apply plugin: 'com.google.devtools.ksp'\n+    apply plugin: 'kotlin-android'\n+    apply from: './testresults.gradle'\n+}\n+\n+if (isNewArchitectureEnabled) {\n+    apply plugin: \"com.facebook.react\"\n+}\n+\n+repositories {\n+    mavenCentral()\n+    google()\n+    maven {\n+        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n+        url \"$rootDir/../node_modules/react-native/android\"\n+    }\n+    maven {\n+        // Android JSC is installed from npm\n+        url \"$rootDir/../node_modules/jsc-android/dist\"\n+    }\n+    maven {\n+        // Local Maven repo containing AAR files\n+        url \"$rootDir/../node_modules/react-native/android/maven\"\n+    }\n+    maven {\n+        url 'https://www.jitpack.io'\n+    }\n+}\n+\n+configurations.all {\n+    resolutionStrategy {\n+        force \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:react-android:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:hermes-android:${rootProject.ext.reactNativeVersion}\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n+    }\n+}\n+\n+android {\n+    if (rootProject.ext.has('androidLibraryVersion') && rootProject.ext.androidLibraryVersion.startsWith('8.')) {\n+        namespace \"com.reactnativecommunity.asyncstorage\"\n+        buildFeatures {\n+            buildConfig true\n+        }\n+    }\n+\n+    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n+    if (rootProject.hasProperty(\"ndkPath\")) {\n+        ndkPath rootProject.ext.ndkPath\n+    }\n+    if (rootProject.hasProperty(\"ndkVersion\")) {\n+        ndkVersion rootProject.ext.ndkVersion\n+    }\n+\n+    defaultConfig {\n+        minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n+        targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n+        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n+        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n+    }\n+\n+    lintOptions {\n+        abortOnError false\n+    }\n+\n+    if (useNextStorage) {\n+        testOptions {\n+            unitTests {\n+                returnDefaultValues = true\n+                includeAndroidResources = true\n+            }\n+        }\n+    }\n+\n+    sourceSets.main {\n+        java {\n+            if (useNextStorage) {\n+                srcDirs += 'src/kotlinPackage/java'\n+            } else {\n+                srcDirs += 'src/javaPackage/java'\n+            }\n+\n+            if (!isNewArchitectureEnabled) {\n+                srcDirs += 'src/oldarch/java'\n+            }\n+        }\n+    }\n+}\n+\n+dependencies {\n+    if (useNextStorage) {\n+        def room_version = project.ext.AsyncStorageConfig.roomVersion\n+\n+        implementation \"androidx.room:room-runtime:$room_version\"\n+        implementation \"androidx.room:room-ktx:$room_version\"\n+        ksp \"androidx.room:room-compiler:$room_version\"\n+\n+        implementation project.ext.AsyncStorageLibs.coroutines\n+\n+        testImplementation project.ext.AsyncStorageLibs.testCoroutines\n+        testImplementation project.ext.AsyncStorageLibs.testJunit\n+        testImplementation project.ext.AsyncStorageLibs.testExtJunit\n+        testImplementation project.ext.AsyncStorageLibs.testRunner\n+        testImplementation project.ext.AsyncStorageLibs.testRules\n+        testImplementation project.ext.AsyncStorageLibs.testRobolectric\n+        testImplementation project.ext.AsyncStorageLibs.testTruth\n+    }\n+\n+    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n+}\n"
                },
                {
                    "date": 1736668120838,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,151 +52,21 @@\n     }\n     maven {\n         url 'https://www.jitpack.io'\n     }\n-}\n-\n-configurations.all {\n-    resolutionStrategy {\n-        force \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n-        force \"com.facebook.react:react-android:${rootProject.ext.reactNativeVersion}\"\n-        force \"com.facebook.react:hermes-android:${rootProject.ext.reactNativeVersion}\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n-    }\n-}\n-\n-android {\n-    if (rootProject.ext.has('androidLibraryVersion') && rootProject.ext.androidLibraryVersion.startsWith('8.')) {\n-        namespace \"com.reactnativecommunity.asyncstorage\"\n-        buildFeatures {\n-            buildConfig true\n+    maven {\n+        // React Native prebuilt AAR files\n+        url \"$rootDir/../node_modules/react-native/android/com/facebook/react/react-native/${rootProject.ext.reactNativeVersion}\"\n+        metadataSources {\n+            artifact()\n         }\n     }\n-\n-    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n-    if (rootProject.hasProperty(\"ndkPath\")) {\n-        ndkPath rootProject.ext.ndkPath\n-    }\n-    if (rootProject.hasProperty(\"ndkVersion\")) {\n-        ndkVersion rootProject.ext.ndkVersion\n-    }\n-\n-    defaultConfig {\n-        minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n-        targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n-        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n-        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n-    }\n-\n-    lintOptions {\n-        abortOnError false\n-    }\n-\n-    if (useNextStorage) {\n-        testOptions {\n-            unitTests {\n-                returnDefaultValues = true\n-                includeAndroidResources = true\n-            }\n-        }\n-    }\n-\n-    sourceSets.main {\n-        java {\n-            if (useNextStorage) {\n-                srcDirs += 'src/kotlinPackage/java'\n-            } else {\n-                srcDirs += 'src/javaPackage/java'\n-            }\n-\n-            if (!isNewArchitectureEnabled) {\n-                srcDirs += 'src/oldarch/java'\n-            }\n-        }\n-    }\n-}\n-\n-dependencies {\n-    if (useNextStorage) {\n-        def room_version = project.ext.AsyncStorageConfig.roomVersion\n-\n-        implementation \"androidx.room:room-runtime:$room_version\"\n-        implementation \"androidx.room:room-ktx:$room_version\"\n-        ksp \"androidx.room:room-compiler:$room_version\"\n-\n-        implementation project.ext.AsyncStorageLibs.coroutines\n-\n-        testImplementation project.ext.AsyncStorageLibs.testCoroutines\n-        testImplementation project.ext.AsyncStorageLibs.testJunit\n-        testImplementation project.ext.AsyncStorageLibs.testExtJunit\n-        testImplementation project.ext.AsyncStorageLibs.testRunner\n-        testImplementation project.ext.AsyncStorageLibs.testRules\n-        testImplementation project.ext.AsyncStorageLibs.testRobolectric\n-        testImplementation project.ext.AsyncStorageLibs.testTruth\n-    }\n-\n-    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n-}\n-configurations {\n-    compileClasspath\n-}\n-\n-buildscript {\n-    apply from: \"config.gradle\"\n-    def kotlinVersion = ext.AsyncStorageConfig.kotlinVersion\n-    def kspVersion = ext.AsyncStorageConfig.kspVersion\n-\n-    repositories {\n-        mavenCentral()\n-        google()\n-    }\n-    dependencies {\n-        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n-        classpath \"com.google.devtools.ksp:symbol-processing-gradle-plugin:$kspVersion\"\n-    }\n-}\n-\n-apply plugin: 'com.android.library'\n-apply from: 'config.gradle'\n-\n-boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n-boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n-\n-logger.info(\"[AsyncStorage] Config used: {}\", ext.AsyncStorageConfig)\n-\n-if (useNextStorage) {\n-    apply plugin: 'com.google.devtools.ksp'\n-    apply plugin: 'kotlin-android'\n-    apply from: './testresults.gradle'\n-}\n-\n-if (isNewArchitectureEnabled) {\n-    apply plugin: \"com.facebook.react\"\n-}\n-\n-repositories {\n-    mavenCentral()\n-    google()\n     maven {\n-        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n         url \"$rootDir/../node_modules/react-native/android\"\n+        content {\n+            includeGroup \"com.facebook.react\"\n+        }\n     }\n-    maven {\n-        // Android JSC is installed from npm\n-        url \"$rootDir/../node_modules/jsc-android/dist\"\n-    }\n-    maven {\n-        // Local Maven repo containing AAR files\n-        url \"$rootDir/../node_modules/react-native/android/maven\"\n-    }\n-    maven {\n-        url 'https://www.jitpack.io'\n-    }\n }\n \n configurations.all {\n     resolutionStrategy {\n@@ -281,6 +151,6 @@\n         testImplementation project.ext.AsyncStorageLibs.testRobolectric\n         testImplementation project.ext.AsyncStorageLibs.testTruth\n     }\n \n-    compileOnly \"com.facebook.react:react-native:+\"\n+    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n }\n"
                },
                {
                    "date": 1736668439644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,13 +80,11 @@\n     }\n }\n \n android {\n-    if (rootProject.ext.has('androidLibraryVersion') && rootProject.ext.androidLibraryVersion.startsWith('8.')) {\n-        namespace \"com.reactnativecommunity.asyncstorage\"\n-        buildFeatures {\n-            buildConfig true\n-        }\n+    namespace \"com.reactnativecommunity.asyncstorage\"\n+    buildFeatures {\n+        buildConfig true\n     }\n \n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n     if (rootProject.hasProperty(\"ndkPath\")) {\n"
                },
                {
                    "date": 1736668481834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,155 @@\n+configurations {\n+    compileClasspath\n+}\n+\n+buildscript {\n+    apply from: \"config.gradle\"\n+    def kotlinVersion = ext.AsyncStorageConfig.kotlinVersion\n+    def kspVersion = ext.AsyncStorageConfig.kspVersion\n+\n+    repositories {\n+        mavenCentral()\n+        google()\n+    }\n+    dependencies {\n+        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n+        classpath \"com.google.devtools.ksp:symbol-processing-gradle-plugin:$kspVersion\"\n+    }\n+}\n+\n+apply plugin: 'com.android.library'\n+apply from: 'config.gradle'\n+\n+boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n+boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n+\n+logger.info(\"[AsyncStorage] Config used: {}\", ext.AsyncStorageConfig)\n+\n+if (useNextStorage) {\n+    apply plugin: 'com.google.devtools.ksp'\n+    apply plugin: 'kotlin-android'\n+    apply from: './testresults.gradle'\n+}\n+\n+if (isNewArchitectureEnabled) {\n+    apply plugin: \"com.facebook.react\"\n+}\n+\n+repositories {\n+    mavenCentral()\n+    google()\n+    maven {\n+        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n+        url \"$rootDir/../node_modules/react-native/android\"\n+    }\n+    maven {\n+        // Android JSC is installed from npm\n+        url \"$rootDir/../node_modules/jsc-android/dist\"\n+    }\n+    maven {\n+        // Local Maven repo containing AAR files\n+        url \"$rootDir/../node_modules/react-native/android/maven\"\n+    }\n+    maven {\n+        url 'https://www.jitpack.io'\n+    }\n+    maven {\n+        // React Native prebuilt AAR files\n+        url \"$rootDir/../node_modules/react-native/android/com/facebook/react/react-native/${rootProject.ext.reactNativeVersion}\"\n+        metadataSources {\n+            artifact()\n+        }\n+    }\n+    maven {\n+        url \"$rootDir/../node_modules/react-native/android\"\n+        content {\n+            includeGroup \"com.facebook.react\"\n+        }\n+    }\n+}\n+\n+configurations.all {\n+    resolutionStrategy {\n+        force \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:react-android:${rootProject.ext.reactNativeVersion}\"\n+        force \"com.facebook.react:hermes-android:${rootProject.ext.reactNativeVersion}\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n+        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n+    }\n+}\n+\n+android {\n+    namespace \"com.reactnativecommunity.asyncstorage\"\n+    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n+\n+    buildFeatures {\n+        buildConfig true\n+    }\n+\n+    if (rootProject.hasProperty(\"ndkPath\")) {\n+        ndkPath rootProject.ext.ndkPath\n+    }\n+    if (rootProject.hasProperty(\"ndkVersion\")) {\n+        ndkVersion rootProject.ext.ndkVersion\n+    }\n+\n+    defaultConfig {\n+        minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n+        targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n+        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n+        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n+    }\n+\n+    lintOptions {\n+        abortOnError false\n+    }\n+\n+    if (useNextStorage) {\n+        testOptions {\n+            unitTests {\n+                returnDefaultValues = true\n+                includeAndroidResources = true\n+            }\n+        }\n+    }\n+\n+    sourceSets.main {\n+        java {\n+            if (useNextStorage) {\n+                srcDirs += 'src/kotlinPackage/java'\n+            } else {\n+                srcDirs += 'src/javaPackage/java'\n+            }\n+\n+            if (!isNewArchitectureEnabled) {\n+                srcDirs += 'src/oldarch/java'\n+            }\n+        }\n+    }\n+}\n+\n+dependencies {\n+    if (useNextStorage) {\n+        def room_version = project.ext.AsyncStorageConfig.roomVersion\n+\n+        implementation \"androidx.room:room-runtime:$room_version\"\n+        implementation \"androidx.room:room-ktx:$room_version\"\n+        ksp \"androidx.room:room-compiler:$room_version\"\n+\n+        implementation project.ext.AsyncStorageLibs.coroutines\n+\n+        testImplementation project.ext.AsyncStorageLibs.testCoroutines\n+        testImplementation project.ext.AsyncStorageLibs.testJunit\n+        testImplementation project.ext.AsyncStorageLibs.testExtJunit\n+        testImplementation project.ext.AsyncStorageLibs.testRunner\n+        testImplementation project.ext.AsyncStorageLibs.testRules\n+        testImplementation project.ext.AsyncStorageLibs.testRobolectric\n+        testImplementation project.ext.AsyncStorageLibs.testTruth\n+    }\n+\n+    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n+}\n"
                },
                {
                    "date": 1736668503202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,163 +17,16 @@\n     }\n }\n \n apply plugin: 'com.android.library'\n-apply from: 'config.gradle'\n \n-boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n-boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n-\n-logger.info(\"[AsyncStorage] Config used: {}\", ext.AsyncStorageConfig)\n-\n-if (useNextStorage) {\n-    apply plugin: 'com.google.devtools.ksp'\n-    apply plugin: 'kotlin-android'\n-    apply from: './testresults.gradle'\n-}\n-\n-if (isNewArchitectureEnabled) {\n-    apply plugin: \"com.facebook.react\"\n-}\n-\n-repositories {\n-    mavenCentral()\n-    google()\n-    maven {\n-        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n-        url \"$rootDir/../node_modules/react-native/android\"\n-    }\n-    maven {\n-        // Android JSC is installed from npm\n-        url \"$rootDir/../node_modules/jsc-android/dist\"\n-    }\n-    maven {\n-        // Local Maven repo containing AAR files\n-        url \"$rootDir/../node_modules/react-native/android/maven\"\n-    }\n-    maven {\n-        url 'https://www.jitpack.io'\n-    }\n-    maven {\n-        // React Native prebuilt AAR files\n-        url \"$rootDir/../node_modules/react-native/android/com/facebook/react/react-native/${rootProject.ext.reactNativeVersion}\"\n-        metadataSources {\n-            artifact()\n-        }\n-    }\n-    maven {\n-        url \"$rootDir/../node_modules/react-native/android\"\n-        content {\n-            includeGroup \"com.facebook.react\"\n-        }\n-    }\n-}\n-\n-configurations.all {\n-    resolutionStrategy {\n-        force \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n-        force \"com.facebook.react:react-android:${rootProject.ext.reactNativeVersion}\"\n-        force \"com.facebook.react:hermes-android:${rootProject.ext.reactNativeVersion}\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.9.24\"\n-        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.9.24\"\n-    }\n-}\n-\n android {\n     namespace \"com.reactnativecommunity.asyncstorage\"\n-    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n-\n     buildFeatures {\n         buildConfig true\n     }\n-\n-    if (rootProject.hasProperty(\"ndkPath\")) {\n-        ndkPath rootProject.ext.ndkPath\n-    }\n-    if (rootProject.hasProperty(\"ndkVersion\")) {\n-        ndkVersion rootProject.ext.ndkVersion\n-    }\n-\n-    defaultConfig {\n-        minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n-        targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n-        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n-        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n-    }\n-\n-    lintOptions {\n-        abortOnError false\n-    }\n-\n-    if (useNextStorage) {\n-        testOptions {\n-            unitTests {\n-                returnDefaultValues = true\n-                includeAndroidResources = true\n-            }\n-        }\n-    }\n-\n-    sourceSets.main {\n-        java {\n-            if (useNextStorage) {\n-                srcDirs += 'src/kotlinPackage/java'\n-            } else {\n-                srcDirs += 'src/javaPackage/java'\n-            }\n-\n-            if (!isNewArchitectureEnabled) {\n-                srcDirs += 'src/oldarch/java'\n-            }\n-        }\n-    }\n }\n \n-dependencies {\n-    if (useNextStorage) {\n-        def room_version = project.ext.AsyncStorageConfig.roomVersion\n-\n-        implementation \"androidx.room:room-runtime:$room_version\"\n-        implementation \"androidx.room:room-ktx:$room_version\"\n-        ksp \"androidx.room:room-compiler:$room_version\"\n-\n-        implementation project.ext.AsyncStorageLibs.coroutines\n-\n-        testImplementation project.ext.AsyncStorageLibs.testCoroutines\n-        testImplementation project.ext.AsyncStorageLibs.testJunit\n-        testImplementation project.ext.AsyncStorageLibs.testExtJunit\n-        testImplementation project.ext.AsyncStorageLibs.testRunner\n-        testImplementation project.ext.AsyncStorageLibs.testRules\n-        testImplementation project.ext.AsyncStorageLibs.testRobolectric\n-        testImplementation project.ext.AsyncStorageLibs.testTruth\n-    }\n-\n-    implementation \"com.facebook.react:react-native:${rootProject.ext.reactNativeVersion}\"\n-}\n-configurations {\n-    compileClasspath\n-}\n-\n-buildscript {\n-    apply from: \"config.gradle\"\n-    def kotlinVersion = ext.AsyncStorageConfig.kotlinVersion\n-    def kspVersion = ext.AsyncStorageConfig.kspVersion\n-\n-    repositories {\n-        mavenCentral()\n-        google()\n-    }\n-    dependencies {\n-        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n-        classpath \"com.google.devtools.ksp:symbol-processing-gradle-plugin:$kspVersion\"\n-    }\n-}\n-\n-apply plugin: 'com.android.library'\n apply from: 'config.gradle'\n \n boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n@@ -236,13 +89,14 @@\n }\n \n android {\n     namespace \"com.reactnativecommunity.asyncstorage\"\n+    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n+\n     buildFeatures {\n         buildConfig true\n     }\n \n-    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n     if (rootProject.hasProperty(\"ndkPath\")) {\n         ndkPath rootProject.ext.ndkPath\n     }\n     if (rootProject.hasProperty(\"ndkVersion\")) {\n"
                },
                {
                    "date": 1736668588005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,16 +17,8 @@\n     }\n }\n \n apply plugin: 'com.android.library'\n-\n-android {\n-    namespace \"com.reactnativecommunity.asyncstorage\"\n-    buildFeatures {\n-        buildConfig true\n-    }\n-}\n-\n apply from: 'config.gradle'\n \n boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n@@ -88,8 +80,11 @@\n     }\n }\n \n android {\n+    buildFeatures {\n+        buildConfig true\n+    }\n     namespace \"com.reactnativecommunity.asyncstorage\"\n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n     buildFeatures {\n"
                },
                {
                    "date": 1736668615337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,11 +80,8 @@\n     }\n }\n \n android {\n-    buildFeatures {\n-        buildConfig true\n-    }\n     namespace \"com.reactnativecommunity.asyncstorage\"\n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n     buildFeatures {\n"
                },
                {
                    "date": 1736668661250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,15 @@\n     }\n }\n \n apply plugin: 'com.android.library'\n+\n+android {\n+    buildFeatures {\n+        buildConfig true\n+    }\n+}\n+\n apply from: 'config.gradle'\n \n boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n"
                },
                {
                    "date": 1736668684742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,15 +17,8 @@\n     }\n }\n \n apply plugin: 'com.android.library'\n-\n-android {\n-    buildFeatures {\n-        buildConfig true\n-    }\n-}\n-\n apply from: 'config.gradle'\n \n boolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\n boolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n"
                },
                {
                    "date": 1736668790270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,15 +80,18 @@\n     }\n }\n \n android {\n-    namespace \"com.reactnativecommunity.asyncstorage\"\n+    def agpVersion = com.android.Version.ANDROID_GRADLE_PLUGIN_VERSION\n+    if (agpVersion.tokenize('.')[0].toInteger() >= 7) {\n+        namespace \"com.reactnativecommunity.asyncstorage\"\n+        buildFeatures {\n+            buildConfig true\n+        }\n+    }\n+    \n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n-    buildFeatures {\n-        buildConfig true\n-    }\n-\n     if (rootProject.hasProperty(\"ndkPath\")) {\n         ndkPath rootProject.ext.ndkPath\n     }\n     if (rootProject.hasProperty(\"ndkVersion\")) {\n"
                },
                {
                    "date": 1736668831625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,16 +80,13 @@\n     }\n }\n \n android {\n-    def agpVersion = com.android.Version.ANDROID_GRADLE_PLUGIN_VERSION\n-    if (agpVersion.tokenize('.')[0].toInteger() >= 7) {\n-        namespace \"com.reactnativecommunity.asyncstorage\"\n-        buildFeatures {\n-            buildConfig true\n-        }\n+    buildFeatures {\n+        buildConfig true\n     }\n     \n+    namespace \"com.reactnativecommunity.asyncstorage\"\n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n     if (rootProject.hasProperty(\"ndkPath\")) {\n         ndkPath rootProject.ext.ndkPath\n"
                },
                {
                    "date": 1736668911664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,12 +97,8 @@\n \n     defaultConfig {\n         minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n         targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n-        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n-        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n-        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n     }\n \n     lintOptions {\n         abortOnError false\n"
                },
                {
                    "date": 1736668934459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,12 +80,8 @@\n     }\n }\n \n android {\n-    buildFeatures {\n-        buildConfig true\n-    }\n-    \n     namespace \"com.reactnativecommunity.asyncstorage\"\n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n     if (rootProject.hasProperty(\"ndkPath\")) {\n"
                },
                {
                    "date": 1736668995953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,8 +83,12 @@\n android {\n     namespace \"com.reactnativecommunity.asyncstorage\"\n     compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n \n+    buildFeatures {\n+        buildConfig = true\n+    }\n+\n     if (rootProject.hasProperty(\"ndkPath\")) {\n         ndkPath rootProject.ext.ndkPath\n     }\n     if (rootProject.hasProperty(\"ndkVersion\")) {\n@@ -93,8 +97,12 @@\n \n     defaultConfig {\n         minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n         targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n+        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n+        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n+        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n     }\n \n     lintOptions {\n         abortOnError false\n"
                }
            ],
            "date": 1736666203198,
            "name": "Commit-0",
            "content": "configurations {\n    compileClasspath\n}\n\nbuildscript {\n    apply from: \"config.gradle\"\n    def kotlinVersion = ext.AsyncStorageConfig.kotlinVersion\n    def kspVersion = ext.AsyncStorageConfig.kspVersion\n\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n        classpath \"com.google.devtools.ksp:symbol-processing-gradle-plugin:$kspVersion\"\n    }\n}\n\napply plugin: 'com.android.library'\napply from: 'config.gradle'\n\nboolean isNewArchitectureEnabled = ext.AsyncStorageConfig.isNewArchitectureEnabled\nboolean useNextStorage = ext.AsyncStorageConfig.useNextStorage\n\nlogger.info(\"[AsyncStorage] Config used: {}\", ext.AsyncStorageConfig)\n\nif (useNextStorage) {\n    apply plugin: 'com.google.devtools.ksp'\n    apply plugin: 'kotlin-android'\n    apply from: './testresults.gradle'\n}\n\nif (isNewArchitectureEnabled) {\n    apply plugin: \"com.facebook.react\"\n}\n\nrepositories {\n    mavenCentral()\n    google()\n    maven {\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n        url \"$rootDir/../../node_modules/react-native/android\"\n    }\n    maven {\n        // Android JSC is installed from npm\n        url \"$rootDir/../../node_modules/jsc-android/dist\"\n    }\n    maven {\n        url 'https://www.jitpack.io'\n    }\n}\n\nconfigurations.all {\n    resolutionStrategy {\n        force 'com.facebook.react:react-native:0.72.7'\n        force 'com.facebook.react:react-android:0.72.7'\n        force 'com.facebook.react:hermes-android:0.72.7'\n        force \"org.jetbrains.kotlin:kotlin-stdlib:1.7.22\"\n        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.22\"\n        force \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.22\"\n        force \"org.jetbrains.kotlin:kotlin-stdlib-common:1.7.22\"\n    }\n}\n\nandroid {\n    def agpVersion = com.android.Version.ANDROID_GRADLE_PLUGIN_VERSION\n    if (agpVersion.tokenize('.')[0].toInteger() >= 7) {\n        namespace \"com.reactnativecommunity.asyncstorage\"\n        buildFeatures {\n            buildConfig true\n        }\n    }\n\n    compileSdkVersion project.ext.AsyncStorageConfig.compileSdkVersion\n    if (rootProject.hasProperty(\"ndkPath\")) {\n        ndkPath rootProject.ext.ndkPath\n    }\n    if (rootProject.hasProperty(\"ndkVersion\")) {\n        ndkVersion rootProject.ext.ndkVersion\n    }\n\n    defaultConfig {\n        minSdkVersion project.ext.AsyncStorageConfig.minSdkVersion\n        targetSdkVersion project.ext.AsyncStorageConfig.targetSdkVersion\n        buildConfigField \"Long\", \"AsyncStorage_db_size\", \"${project.ext.AsyncStorageConfig.databaseSizeMB}L\"\n        buildConfigField \"boolean\", \"AsyncStorage_useDedicatedExecutor\", \"${project.ext.AsyncStorageConfig.useDedicatedExecutor}\"\n        buildConfigField \"boolean\", \"AsyncStorage_useNextStorage\", \"${useNextStorage}\"\n        buildConfigField \"boolean\", \"IS_NEW_ARCHITECTURE_ENABLED\", \"${isNewArchitectureEnabled}\"\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    if (useNextStorage) {\n        testOptions {\n            unitTests {\n                returnDefaultValues = true\n                includeAndroidResources = true\n            }\n        }\n    }\n\n    sourceSets.main {\n        java {\n            if (useNextStorage) {\n                srcDirs += 'src/kotlinPackage/java'\n            } else {\n                srcDirs += 'src/javaPackage/java'\n            }\n\n            if (!isNewArchitectureEnabled) {\n                srcDirs += 'src/oldarch/java'\n            }\n        }\n    }\n}\n\ndependencies {\n    if (useNextStorage) {\n        def room_version = project.ext.AsyncStorageConfig.roomVersion\n\n        implementation \"androidx.room:room-runtime:$room_version\"\n        implementation \"androidx.room:room-ktx:$room_version\"\n        ksp \"androidx.room:room-compiler:$room_version\"\n\n        implementation project.ext.AsyncStorageLibs.coroutines\n\n        testImplementation project.ext.AsyncStorageLibs.testCoroutines\n        testImplementation project.ext.AsyncStorageLibs.testJunit\n        testImplementation project.ext.AsyncStorageLibs.testExtJunit\n        testImplementation project.ext.AsyncStorageLibs.testRunner\n        testImplementation project.ext.AsyncStorageLibs.testRules\n        testImplementation project.ext.AsyncStorageLibs.testRobolectric\n        testImplementation project.ext.AsyncStorageLibs.testTruth\n    }\n\n    implementation 'com.facebook.react:react-native:0.72.7'\n}\n"
        }
    ]
}